<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Scure - Discover Hidden Influencers</title>
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }

       body {
           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Lato, Helvetica, Arial, sans-serif;
           background: linear-gradient(135deg, #0073e6 0%, #4da6ff 100%);
           min-height: 100vh;
           color: #000;
           line-height: 1.6;
           overflow-x: hidden;
       }

       .homepage {
           min-height: 100vh;
           display: flex;
           flex-direction: column;
       }

       /* Hero Section */
       .hero-section {
           flex: 1;
           display: flex;
           flex-direction: column;
           justify-content: center;
           align-items: center;
           text-align: center;
           padding: 80px 40px;
           min-height: 60vh;
       }

       .logo {
           font-size: 4.5rem;
           font-weight: 300;
           color: white;
           margin-bottom: 20px;
           letter-spacing: -2px;
       }

       .tagline {
           font-size: 1.4rem;
           color: rgba(255,255,255,0.9);
           margin-bottom: 50px;
           max-width: 600px;
           line-height: 1.5;
       }

       .search-container {
           width: 100%;
           max-width: 800px;
           position: relative;
           margin-bottom: 30px;
       }

       .main-search {
           width: 100%;
           padding: 20px 24px;
           font-size: 18px;
           border: none;
           border-radius: 50px;
           background: white;
           box-shadow: 0 8px 32px rgba(0,0,0,0.1);
           outline: none;
           transition: all 0.3s ease;
       }

       .main-search:focus {
           box-shadow: 0 12px 48px rgba(0,0,0,0.15);
           transform: translateY(-2px);
       }

       .main-search::placeholder {
           color: #999;
           font-size: 18px;
       }

       .search-btn {
           position: absolute;
           right: 8px;
           top: 50%;
           transform: translateY(-50%);
           background: #0073e6;
           color: white;
           border: none;
           padding: 12px 24px;
           border-radius: 50px;
           font-size: 16px;
           cursor: pointer;
           transition: all 0.3s ease;
       }

       .search-btn:hover {
           background: #005bb5;
       }

       .admin-controls {
           display: none;
           gap: 15px;
           margin-top: 20px;
       }

       .admin-btn {
           padding: 12px 24px;
           border: 2px solid rgba(255,255,255,0.3);
           background: rgba(255,255,255,0.1);
           color: white;
           border-radius: 25px;
           text-decoration: none;
           font-size: 14px;
           transition: all 0.3s ease;
           cursor: pointer;
       }

       .admin-btn:hover {
           background: rgba(255,255,255,0.2);
           border-color: rgba(255,255,255,0.5);
       }

       /* Featured Section */
       .featured-section {
           background: white;
           padding: 80px 40px;
           min-height: 40vh;
       }

       .container {
           max-width: 1400px;
           margin: 0 auto;
       }

       .section-title {
           text-align: center;
           font-size: 2.5rem;
           color: #0073e6;
           margin-bottom: 15px;
           font-weight: 300;
       }

       .section-subtitle {
           text-align: center;
           font-size: 1.1rem;
           color: #666;
           margin-bottom: 60px;
           max-width: 600px;
           margin-left: auto;
           margin-right: auto;
       }

       .featured-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
           gap: 40px;
           max-width: 1200px;
           margin: 0 auto;
       }

       .featured-card {
           background: white;
           border: 1px solid #e6f3ff;
           border-radius: 16px;
           padding: 30px;
           box-shadow: 0 4px 20px rgba(0,115,230,0.1);
           transition: all 0.3s ease;
           cursor: pointer;
           position: relative;
       }

       .featured-card:hover {
           box-shadow: 0 8px 32px rgba(0,115,230,0.2);
           transform: translateY(-4px);
           border-color: #0073e6;
       }

       .featured-header {
           display: flex;
           align-items: center;
           margin-bottom: 20px;
       }

       .featured-avatar {
           width: 80px;
           height: 80px;
           border-radius: 12px;
           background: linear-gradient(135deg, #0073e6 0%, #4da6ff 100%);
           display: flex;
           align-items: center;
           justify-content: center;
           color: white;
           font-size: 24px;
           font-weight: bold;
           margin-right: 20px;
           background-size: cover;
           background-position: center;
           background-repeat: no-repeat;
           border: 3px solid #e6f3ff;
           flex-shrink: 0;
           overflow: hidden;
       }

       .featured-avatar.has-image {
           color: transparent;
           background: #f8f9fa;
       }

       .featured-avatar img {
           width: 100%;
           height: 100%;
           object-fit: cover;
           object-position: center;
           border-radius: 8px;
       }

       .featured-info h3 {
           font-size: 1.5rem;
           color: #0073e6;
           margin-bottom: 5px;
           font-weight: 600;
       }

       .featured-info .title {
           color: #666;
           font-size: 1rem;
           margin-bottom: 5px;
       }

       .featured-info .industry {
           background: linear-gradient(135deg, #e6f3ff 0%, #cce7ff 100%);
           color: #0073e6;
           padding: 4px 12px;
           border-radius: 15px;
           font-size: 0.85rem;
           display: inline-block;
           font-weight: 500;
       }

       .featured-description {
           color: #333;
           line-height: 1.6;
           margin-bottom: 20px;
           display: -webkit-box;
           -webkit-line-clamp: 3;
           -webkit-box-orient: vertical;
           overflow: hidden;
       }

       .featured-stats {
           display: flex;
           justify-content: space-between;
           padding: 15px;
           background: linear-gradient(135deg, #f8fbff 0%, #f0f8ff 100%);
           border-radius: 12px;
           margin-bottom: 20px;
       }

       .stat {
           text-align: center;
       }

       .stat-value {
           font-size: 1.2rem;
           font-weight: bold;
           color: #0073e6;
       }

       .stat-label {
           font-size: 0.85rem;
           color: #666;
           margin-top: 2px;
       }

       .view-profile-btn {
           background: linear-gradient(135deg, #0073e6 0%, #4da6ff 100%);
           color: white;
           border: none;
           padding: 12px 24px;
           border-radius: 25px;
           font-size: 0.9rem;
           cursor: pointer;
           width: 100%;
           transition: all 0.3s ease;
           font-weight: 500;
       }

       .view-profile-btn:hover {
           background: linear-gradient(135deg, #005bb5 0%, #3399ff 100%);
           transform: translateY(-1px);
       }

       /* Search Results */
       .search-results {
           display: none;
           background: white;
           padding: 40px;
           min-height: 60vh;
       }

       .results-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
           gap: 30px;
           max-width: 1200px;
           margin: 0 auto;
       }

       .result-card {
           background: white;
           border: 1px solid #e6f3ff;
           border-radius: 12px;
           padding: 25px;
           box-shadow: 0 2px 12px rgba(0,115,230,0.1);
           transition: all 0.3s ease;
           cursor: pointer;
           position: relative;
       }

       .result-card:hover {
           box-shadow: 0 4px 20px rgba(0,115,230,0.2);
           border-color: #0073e6;
       }

       .back-btn {
           background: #f0f8ff;
           color: #0073e6;
           border: 1px solid #b3d9ff;
           padding: 12px 24px;
           border-radius: 25px;
           cursor: pointer;
           margin-bottom: 30px;
           font-size: 14px;
           transition: all 0.3s ease;
       }

       .back-btn:hover {
           background: #e6f3ff;
       }

       .no-results {
           text-align: center;
           color: #666;
           font-size: 1.2rem;
           margin-top: 60px;
       }

       /* Profile Detail Modal */
       .profile-modal {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: rgba(0,0,0,0.8);
           z-index: 2000;
           overflow-y: auto;
       }

       .profile-modal-content {
           background: white;
           margin: 20px auto;
           width: 90%;
           max-width: 1000px;
           border-radius: 16px;
           overflow: hidden;
           box-shadow: 0 20px 60px rgba(0,0,0,0.3);
           position: relative;
       }

       .profile-close {
           position: absolute;
           top: 20px;
           right: 25px;
           color: white;
           font-size: 35px;
           font-weight: bold;
           cursor: pointer;
           z-index: 10;
           background: rgba(0,0,0,0.5);
           border-radius: 50%;
           width: 45px;
           height: 45px;
           display: flex;
           align-items: center;
           justify-content: center;
           transition: all 0.3s ease;
       }

       .profile-close:hover {
           background: rgba(0,0,0,0.7);
           transform: scale(1.1);
       }

       .profile-header-section {
           background: linear-gradient(135deg, #0073e6 0%, #4da6ff 100%);
           padding: 40px;
           color: white;
           position: relative;
       }

       .profile-main-info {
           display: flex;
           align-items: flex-start;
           gap: 30px;
           margin-bottom: 30px;
       }

       .profile-main-avatar {
           width: 150px;
           height: 150px;
           border-radius: 16px;
           background: rgba(255,255,255,0.2);
           display: flex;
           align-items: center;
           justify-content: center;
           color: white;
           font-size: 48px;
           font-weight: bold;
           background-size: cover;
           background-position: center;
           background-repeat: no-repeat;
           border: 4px solid rgba(255,255,255,0.3);
           box-shadow: 0 8px 32px rgba(0,0,0,0.2);
           flex-shrink: 0;
           overflow: hidden;
       }

       .profile-main-avatar.has-image {
           color: transparent;
           background-color: #f8f9fa;
       }

       .profile-main-avatar img {
           width: 100%;
           height: 100%;
           object-fit: cover;
           object-position: center;
           border-radius: 12px;
       }

       .profile-main-details h1 {
           font-size: 2.5rem;
           margin-bottom: 10px;
           font-weight: 600;
       }

       .profile-main-details .main-title {
           font-size: 1.3rem;
           margin-bottom: 15px;
           opacity: 0.9;
       }

       .profile-main-details .main-industry {
           background: rgba(255,255,255,0.2);
           padding: 8px 16px;
           border-radius: 20px;
           display: inline-block;
           margin-bottom: 20px;
           font-weight: 500;
       }

       .profile-quick-stats {
           display: flex;
           gap: 40px;
           flex-wrap: wrap;
       }

       .quick-stat {
           text-align: left;
       }

       .quick-stat-value {
           font-size: 1.8rem;
           font-weight: bold;
           margin-bottom: 5px;
       }

       .quick-stat-label {
           opacity: 0.8;
           font-size: 0.9rem;
       }

       .profile-content {
           padding: 40px;
       }

       .profile-nav {
           display: flex;
           gap: 30px;
           margin-bottom: 40px;
           border-bottom: 2px solid #f0f8ff;
           padding-bottom: 15px;
       }

       .nav-item {
           padding: 10px 20px;
           cursor: pointer;
           border-radius: 25px;
           transition: all 0.3s ease;
           font-weight: 500;
           color: #666;
       }

       .nav-item.active {
           background: linear-gradient(135deg, #0073e6 0%, #4da6ff 100%);
           color: white;
       }

       .nav-item:hover:not(.active) {
           background: #f0f8ff;
           color: #0073e6;
       }

       .profile-section {
           display: none;
       }

       .profile-section.active {
           display: block;
       }

       .overview-grid {
           display: grid;
           grid-template-columns: 2fr 1fr;
           gap: 40px;
           margin-bottom: 40px;
       }

       .biography-section {
           background: #f8fbff;
           padding: 30px;
           border-radius: 16px;
           border: 1px solid #e6f3ff;
       }

       .biography-section h3 {
           color: #0073e6;
           font-size: 1.4rem;
           margin-bottom: 20px;
           font-weight: 600;
       }

       .biography-text {
           line-height: 1.8;
           color: #333;
           font-size: 1rem;
       }

       .quick-facts {
           background: white;
           border: 1px solid #e6f3ff;
           border-radius: 16px;
           padding: 30px;
       }

       .quick-facts h3 {
           color: #0073e6;
           font-size: 1.3rem;
           margin-bottom: 25px;
           font-weight: 600;
       }

       .fact-item {
           display: flex;
           justify-content: space-between;
           align-items: flex-start;
           padding: 15px 0;
           border-bottom: 1px solid #f0f8ff;
           gap: 20px;
       }

       .fact-item:last-child {
           border-bottom: none;
       }

       .fact-label {
           font-weight: 600;
           color: #666;
           min-width: 120px;
           flex-shrink: 0;
           font-size: 14px;
           line-height: 1.4;
       }

       .fact-value {
           color: #0073e6;
           font-weight: 600;
           text-align: right;
           flex: 1;
           font-size: 14px;
           line-height: 1.4;
           word-wrap: break-word;
       }

       .achievements-section {
           margin-top: 40px;
       }

       .achievements-section h3 {
           color: #0073e6;
           font-size: 1.4rem;
           margin-bottom: 25px;
           font-weight: 600;
       }

       .achievement-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
           gap: 20px;
       }

       .achievement-card {
           background: linear-gradient(135deg, #f8fbff 0%, #f0f8ff 100%);
           padding: 25px;
           border-radius: 12px;
           border: 1px solid #e6f3ff;
       }

       .achievement-title {
           font-weight: 600;
           color: #0073e6;
           margin-bottom: 8px;
       }

       .achievement-desc {
           color: #666;
           line-height: 1.6;
       }

       .links-section {
           background: #f8fbff;
           padding: 30px;
           border-radius: 16px;
           border: 1px solid #e6f3ff;
       }

       .links-section h3 {
           color: #0073e6;
           font-size: 1.4rem;
           margin-bottom: 25px;
           font-weight: 600;
       }

       .links-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
           gap: 15px;
       }

       .profile-link-card {
           background: white;
           padding: 20px;
           border-radius: 12px;
           text-align: center;
           text-decoration: none;
           border: 1px solid #e6f3ff;
           transition: all 0.3s ease;
       }

       .profile-link-card:hover {
           background: #0073e6;
           color: white;
           transform: translateY(-2px);
           box-shadow: 0 4px 16px rgba(0,115,230,0.3);
       }

       .link-icon {
           font-size: 1.5rem;
           margin-bottom: 10px;
           color: #0073e6;
       }

       .profile-link-card:hover .link-icon {
           color: white;
       }

       .link-title {
           font-weight: 600;
           color: #0073e6;
           margin-bottom: 5px;
       }

       .profile-link-card:hover .link-title {
           color: white;
       }

       .link-url {
           font-size: 0.85rem;
           color: #666;
           word-break: break-all;
       }

       .profile-link-card:hover .link-url {
           color: rgba(255,255,255,0.8);
       }

       .photos-section {
           padding: 20px 0;
       }

       .photos-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
           gap: 20px;
       }

       .photo-item {
           border-radius: 12px;
           overflow: hidden;
           box-shadow: 0 4px 16px rgba(0,115,230,0.1);
           transition: transform 0.3s ease;
       }

       .photo-item:hover {
           transform: scale(1.02);
       }

       .photo-item img {
           width: 100%;
           height: 200px;
           object-fit: cover;
       }

       .photo-caption {
           padding: 15px;
           background: white;
           border: 1px solid #e6f3ff;
           border-top: none;
           font-size: 0.9rem;
           color: #666;
       }

       /* Admin Modal */
       .modal {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: rgba(0,0,0,0.7);
           z-index: 1000;
       }

       .modal-content {
           background: white;
           margin: 2% auto;
           padding: 40px;
           border-radius: 16px;
           width: 90%;
           max-width: 600px;
           max-height: 90vh;
           overflow-y: auto;
           box-shadow: 0 12px 48px rgba(0,0,0,0.3);
       }

       /* OLD CLOSE BUTTON - DISABLED
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
}
*/
/* MODERN CLOSE BUTTON - Add this to your <style> section */

.close-btn-modern {
    position: absolute !important;
    top: 20px !important;
    right: 20px !important;
    width: 40px !important;
    height: 40px !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.1)) !important;
    border: 1px solid rgba(255, 255, 255, 0.18) !important;
    border-radius: 12px !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    z-index: 1000 !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    font-size: 0 !important;
    line-height: 1 !important;
    padding: 0 !important;
    margin: 0 !important;
    outline: none !important;
    float: none !important;
}

.close-btn-modern::before,
.close-btn-modern::after {
    content: '' !important;
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    width: 16px !important;
    height: 2px !important;
    background: rgba(255, 255, 255, 0.9) !important;
    border-radius: 1px !important;
    transition: all 0.3s ease !important;
}

.close-btn-modern::before {
    transform: translate(-50%, -50%) rotate(45deg) !important;
}

.close-btn-modern::after {
    transform: translate(-50%, -50%) rotate(-45deg) !important;
}

.close-btn-modern:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.15)) !important;
    border-color: rgba(255, 255, 255, 0.3) !important;
    transform: scale(1.05) rotate(90deg) !important;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

.close-btn-modern:hover::before,
.close-btn-modern:hover::after {
    background: white !important;
    width: 18px !important;
}

.close-btn-modern:active {
    transform: scale(0.95) rotate(90deg) !important;
}

.close-btn-modern:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.6) !important;
    outline-offset: 2px !important;
}

       .close:hover {
           color: #000;
       }

       .form-group {
           margin-bottom: 20px;
       }

       .form-group label {
           display: block;
           margin-bottom: 8px;
           font-weight: 600;
           color: #333;
       }

       .form-group input, .form-group textarea {
           width: 100%;
           padding: 12px 16px;
           border: 2px solid #e6f3ff;
           border-radius: 8px;
           font-size: 14px;
           transition: all 0.3s ease;
       }

       .form-group input:focus, .form-group textarea:focus {
           outline: none;
           border-color: #0073e6;
           box-shadow: 0 0 0 3px rgba(0,115,230,0.1);
       }

       .form-group textarea {
           height: 120px;
           resize: vertical;
       }

       .btn-primary {
           background: linear-gradient(135deg, #0073e6 0%, #4da6ff 100%);
           color: white;
           border: none;
           padding: 14px 28px;
           border-radius: 25px;
           font-size: 16px;
           cursor: pointer;
           transition: all 0.3s ease;
           font-weight: 500;
       }

       .btn-primary:hover {
           background: linear-gradient(135deg, #005bb5 0%, #3399ff 100%);
           transform: translateY(-1px);
       }

       /* Responsive Design */
       @media (max-width: 768px) {
           .logo {
               font-size: 3rem;
           }
           
           .hero-section {
               padding: 40px 20px;
           }
           
           .featured-section {
               padding: 40px 20px;
           }
           
           .featured-grid {
               grid-template-columns: 1fr;
               gap: 20px;
           }
           
           .admin-controls {
               flex-direction: column;
               align-items: center;
           }
           
           .main-search {
               font-size: 16px;
               padding: 16px 20px;
           }

           .profile-modal-content {
               margin: 10px;
               width: calc(100% - 20px);
           }
           
           .profile-main-info {
               flex-direction: column;
               text-align: center;
           }
           
           .profile-main-avatar {
               width: 120px;
               height: 120px;
               align-self: center;
           }
           
           .overview-grid {
               grid-template-columns: 1fr;
               gap: 20px;
           }
           
           .profile-nav {
               flex-wrap: wrap;
               gap: 10px;
           }
           
           .quick-stat {
               text-align: center;
           }
           
           .profile-close {
               top: 10px;
               right: 15px;
               font-size: 28px;
               width: 35px;
               height: 35px;
           }

       }
       /* MODERN PHOTO GALLERY STYLES - Add to your <style> section */

/* REPLACE your existing photo gallery CSS with this simplified version */

/* Photos Section Container */
#modalPhotos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    padding: 20px 0;
}

/* Individual Photo Item */
.photo-item {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid #e6f3ff;
    box-shadow: 0 2px 8px rgba(0, 115, 230, 0.1);
    cursor: default; /* Remove pointer cursor */
}

.photo-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 115, 230, 0.15);
    border-color: #cce7ff;
}

/* Photo Image */
.photo-item img {
    width: 100% !important;
    height: 150px !important; /* Smaller height */
    object-fit: cover !important;
    border-radius: 0 !important;
    transition: all 0.3s ease !important;
    display: block !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
}

.photo-item:hover img {
    transform: scale(1.02); /* Subtle scale effect */
}

/* Photo Caption */
.photo-caption {
    padding: 12px 15px !important;
    color: #333 !important;
    font-size: 13px !important;
    line-height: 1.4 !important;
    background: white !important;
    margin: 0 !important;
    border-radius: 0 !important;
    position: static !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border-top: 1px solid #f0f8ff;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    #modalPhotos {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
    
    .photo-item img {
        height: 120px !important;
    }
    
    .photo-caption {
        padding: 10px 12px !important;
        font-size: 12px !important;
    }
}

@media (max-width: 480px) {
    #modalPhotos {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .photo-item img {
        height: 140px !important;
    }
}

/* Empty state styling */
#modalPhotos p {
    text-align: center;
    color: #666;
    font-style: italic;
    padding: 40px 20px;
    background: #f8fbff;
    border-radius: 12px;
    border: 1px dashed #e6f3ff;
    margin: 20px 0;
    grid-column: 1 / -1; /* Span full width */
}

/* Remove all lightbox-related styles */
.photo-item.enlarged,
.photo-backdrop,
.lightbox-close {
    display: none !important;
}

   </style>
</head>
<body>
   <div class="homepage" id="homepage">
       <!-- Hero Section with Search -->
       <div class="hero-section">
           <h1 class="logo">Scure</h1>
           <p class="tagline">Comprehensive profiles of influential figures without Wikipedia pages</p>
           
           <div class="search-container">
               <input type="text" class="main-search" placeholder="Search for entrepreneurs, creators, and influencers..." id="mainSearch">
               <button class="search-btn" onclick="performSearch()">Search</button>
           </div>

   <!-- Advanced Edit Profile Modal -->
   <div id="advancedEditModal" class="modal">
       <div class="modal-content" style="max-width: 900px; max-height: 95vh;">
           <button class="close-btn-minimal" onclick="closeProfileModal()" aria-label="Close profile"></button>
           <h2>Advanced Profile Editor</h2>
           
           <div style="display: flex; gap: 20px; margin-bottom: 20px;">
               <button onclick="showEditSection('basic')" class="edit-nav-btn active" id="basicNavBtn">Basic Info</button>
               <button onclick="showEditSection('achievements')" class="edit-nav-btn" id="achievementsNavBtn">Achievements</button>
               <button onclick="showEditSection('quickfacts')" class="edit-nav-btn" id="quickfactsNavBtn">Quick Facts</button>
               <button onclick="showEditSection('photos')" class="edit-nav-btn" id="photosNavBtn">Photos</button>
           </div>

           <form id="advancedProfileForm">
               <!-- Basic Info Section -->
               <div class="edit-section active" id="basicEditSection">
                   <h3 style="color: #0073e6; margin-bottom: 20px;">Basic Information</h3>
                   <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                       <div class="form-group">
                           <label for="advName">Full Name *</label>
                           <input type="text" id="advName" required>
                       </div>
                       <div class="form-group">
                           <label for="advTitle">Title/Role *</label>
                           <input type="text" id="advTitle" required>
                       </div>
                       <div class="form-group">
                           <label for="advIndustry">Industry *</label>
                           <input type="text" id="advIndustry" required>
                       </div>
                       <div class="form-group">
                           <label for="advPhoto">Profile Photo</label>
                           <div style="display: flex; gap: 10px; align-items: end;">
                               <div style="flex: 1;">
                                   <input type="url" id="advPhoto" placeholder="https://example.com/photo.jpg" oninput="updateAdvPhotoPreview()">
                                   <div style="font-size: 12px; color: #666; margin-top: 4px;">Enter URL or upload below</div>
                               </div>
                               <button type="button" onclick="triggerAdvPhotoUpload()" style="background: #3498db; color: white; border: none; padding: 8px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">📁 Upload</button>
                           </div>
                           <input type="file" id="advProfilePhotoUpload" accept="image/*" style="display: none;">
                           <div id="advPhotoPreview" style="margin-top: 10px; display: none;">
                               <img id="advPhotoPreviewImg" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" alt="Photo preview">
                               <div style="font-size: 11px; color: #27ae60; margin-top: 5px;" id="advPhotoStatus">✅ Photo ready to save</div>
                           </div>
                       </div>
                       <div class="form-group">
                           <label for="advFollowers">Followers</label>
                           <input type="text" id="advFollowers">
                       </div>
                       <div class="form-group">
                           <label for="advAge">Age</label>
                           <input type="text" id="advAge">
                       </div>
                       <div class="form-group">
                           <label for="advNetWorth">Net Worth</label>
                           <input type="text" id="advNetWorth">
                       </div>
                       <div class="form-group">
                           <label for="advFounded">Year Founded</label>
                           <input type="text" id="advFounded">
                       </div>
                       <div class="form-group">
                           <label for="advWebsite">Website</label>
                           <input type="url" id="advWebsite">
                       </div>
                       <div class="form-group">
                           <label for="advTwitter">Twitter/X</label>
                           <input type="text" id="advTwitter">
                       </div>
                       <div class="form-group">
                           <label for="advLinkedin">LinkedIn</label>
                           <input type="url" id="advLinkedin">
                       </div>
                       <div class="form-group">
                           <label for="advOther">Other Link</label>
                           <input type="url" id="advOther">
                       </div>
                   </div>
                   <div class="form-group">
                       <label for="advDescription">Description *</label>
                       <textarea id="advDescription" required style="height: 100px;"></textarea>
                   </div>
                   <div class="form-group">
                       <label for="advBiography">Extended Biography</label>
                       <textarea id="advBiography" style="height: 200px;"></textarea>
                   </div>
               </div>

               <!-- Achievements Section -->
               <div class="edit-section" id="achievementsEditSection">
                   <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                       <h3 style="color: #0073e6; margin: 0;">Achievements</h3>
                       <button type="button" onclick="addAchievement()" style="background: #27ae60; color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer;">+ Add Achievement</button>
                   </div>
                   <div id="achievementsContainer">
                       <!-- Achievements will be populated here -->
                   </div>
               </div>

               <!-- Quick Facts Section -->
               <div class="edit-section" id="quickfactsEditSection">
                   <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                       <h3 style="color: #0073e6; margin: 0;">Quick Facts</h3>
                       <button type="button" onclick="addQuickFact()" style="background: #27ae60; color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer;">+ Add Fact</button>
                   </div>
                   <div id="quickFactsContainer">
                       <!-- Quick facts will be populated here -->
                   </div>
               </div>

               <!-- Photos Section -->
               <div class="edit-section" id="photosEditSection">
                   <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                       <h3 style="color: #0073e6; margin: 0;">Photos & Media</h3>
                       <div>
                           <button type="button" onclick="document.getElementById('photoUpload').click()" style="background: #3498db; color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; margin-right: 10px;">📁 Upload Photo</button>
                           <button type="button" onclick="addPhoto()" style="background: #27ae60; color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer;">🔗 Add by URL</button>
                       </div>
                       <input type="file" id="photoUpload" accept="image/*" style="display: none;" onchange="handlePhotoUpload(event)">
                   </div>
                   <div id="photosContainer">
                       <!-- Photos will be populated here -->
                   </div>
               </div>

               <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px solid #f0f8ff;">
                   <button type="submit" class="btn-primary" style="padding: 16px 32px; font-size: 16px;">💾 Save All Changes</button>
                   <button type="button" onclick="closeAdvancedEditModal()" style="background: #95a5a6; color: white; border: none; padding: 16px 32px; border-radius: 25px; font-size: 16px; cursor: pointer; margin-left: 15px;">Cancel</button>
               </div>
           </form>
       </div>
   </div>

   <style>
       .edit-nav-btn {
           background: #f8fbff;
           color: #0073e6;
           border: 2px solid #e6f3ff;
           padding: 10px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s ease;
           font-weight: 500;
       }

       .edit-nav-btn.active, .edit-nav-btn:hover {
           background: #0073e6;
           color: white;
           border-color: #0073e6;
       }

       .edit-section {
           display: none;
       }

       .edit-section.active {
           display: block;
       }

       .achievement-item, .quickfact-item, .photo-item-edit {
           background: #f8fbff;
           border: 1px solid #e6f3ff;
           border-radius: 12px;
           padding: 20px;
           margin-bottom: 15px;
           position: relative;
       }

       .achievement-item .remove-btn, .quickfact-item .remove-btn, .photo-item-edit .remove-btn {
           position: absolute;
           top: 10px;
           right: 15px;
           background: #e74c3c;
           color: white;
           border: none;
           border-radius: 50%;
           width: 25px;
           height: 25px;
           cursor: pointer;
           font-size: 12px;
           display: flex;
           align-items: center;
           justify-content: center;
       }

       .achievement-item .remove-btn:hover, .quickfact-item .remove-btn:hover, .photo-item-edit .remove-btn:hover {
           background: #c0392b;
       }
   </style>
           
           <div class="admin-controls" id="adminControls">
               <button class="admin-btn" onclick="openAddModal()">Add Profile</button>
               <button class="admin-btn" onclick="exportProfiles()">Export Data</button>
               <button class="admin-btn" onclick="document.getElementById('importFile').click()">Import Data</button>
               <input type="file" id="importFile" style="display: none" accept=".json" onchange="importProfiles(event)">
           </div>
       </div>

       <!-- Featured People Section -->
       <div class="featured-section">
           <div class="container">
               <h2 class="section-title">Featured Profiles</h2>
               <p class="section-subtitle">Discover influential entrepreneurs and creators who are shaping industries but don't have Wikipedia pages</p>
               
               <div class="featured-grid" id="featuredGrid">
                   <!-- Featured profiles will be populated here -->
               </div>
           </div>
       </div>
   </div>

   <!-- Search Results Page -->
   <div class="search-results" id="searchResults">
       <div class="container">
           <button class="back-btn" onclick="showHomepage()">← Back to Home</button>
           <h2 class="section-title" id="searchTitle">Search Results</h2>
           <div class="results-grid" id="resultsGrid">
               <!-- Search results will be populated here -->
           </div>
           <div class="no-results" id="noResults" style="display: none;">
               <p>No profiles found matching your search.</p>
           </div>
       </div>
   </div>

   <!-- Profile Detail Modal -->
   <div id="profileModal" class="profile-modal">
       <div class="profile-modal-content">
           <button class="close-btn-modern" onclick="closeProfileModal()" aria-label="Close profile"></button>
           
           <!-- Profile Header -->
           <div class="profile-header-section">
               <div class="profile-main-info">
                   <div class="profile-main-avatar" id="modalAvatar">
                       <!-- Avatar will be set by JavaScript -->
                   </div>
                   <div class="profile-main-details">
                       <h1 id="modalName">Profile Name</h1>
                       <div class="main-title" id="modalTitle">Title</div>
                       <div class="main-industry" id="modalIndustry">Industry</div>
                   </div>
               </div>
               <div class="profile-quick-stats" id="modalQuickStats">
                   <!-- Quick stats will be populated by JavaScript -->
               </div>
           </div>

           <!-- Profile Content -->
           <div class="profile-content">
               <div class="profile-nav">
                   <div class="nav-item active" onclick="showSection('overview')">Overview</div>
                   <div class="nav-item" onclick="showSection('achievements')">Achievements</div>
                   <div class="nav-item" onclick="showSection('links')">Links</div>
                   <div class="nav-item" onclick="showSection('photos')">Photos</div>
               </div>

               <!-- Overview Section -->
               <div class="profile-section active" id="overview-section">
                   <div class="overview-grid">
                       <div class="biography-section">
                           <h3>Biography</h3>
                           <div class="biography-text" id="modalBiography">
                               <!-- Biography will be populated by JavaScript -->
                           </div>
                       </div>
                       <div class="quick-facts">
                           <h3>Quick Facts</h3>
                           <div id="modalQuickFacts">
                               <!-- Quick facts will be populated by JavaScript -->
                           </div>
                       </div>
                   </div>
               </div>

               <!-- Achievements Section -->
               <div class="profile-section" id="achievements-section">
                   <div class="achievements-section">
                       <h3>Key Achievements</h3>
                       <div class="achievement-grid" id="modalAchievements">
                           <!-- Achievements will be populated by JavaScript -->
                       </div>
                   </div>
               </div>

               <!-- Links Section -->
               <div class="profile-section" id="links-section">
                   <div class="links-section">
                       <h3>External Links</h3>
                       <div class="links-grid" id="modalLinks">
                           <!-- Links will be populated by JavaScript -->
                       </div>
                   </div>
               </div>

               <!-- Photos Section -->
               <div class="profile-section" id="photos-section">
                   <div class="photos-section">
                       <h3>Photos & Media</h3>
                       <div class="photos-grid" id="modalPhotos">
                           <!-- Photos will be populated by JavaScript -->
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>

   <!-- Add Profile Modal -->
   <div id="addModal" class="modal">
       <div class="modal-content">
           <span class="close" onclick="closeAddModal()">&times;</span>
           <h2 id="modalFormTitle">Add New Profile</h2>
           <form id="profileForm">
               <div class="form-group">
                   <label for="name">Full Name *</label>
                   <input type="text" id="name" required>
               </div>
               <div class="form-group">
                   <label for="title">Title/Role *</label>
                   <input type="text" id="title" required>
               </div>
               <div class="form-group">
                   <label for="industry">Industry *</label>
                   <input type="text" id="industry" required>
               </div>
               <div class="form-group">
                   <label for="photo">Profile Photo</label>
                   <div style="display: flex; gap: 10px; align-items: end;">
                       <div style="flex: 1;">
                           <input type="url" id="photo" placeholder="https://example.com/photo.jpg" oninput="updatePhotoPreview()">
                           <div style="font-size: 12px; color: #666; margin-top: 4px;">Enter a photo URL or upload a file below</div>
                       </div>
                       <button type="button" onclick="triggerPhotoUpload()" style="background: #3498db; color: white; border: none; padding: 10px 16px; border-radius: 6px; font-size: 14px; cursor: pointer; white-space: nowrap;">📁 Upload</button>
                   </div>
                   <input type="file" id="profilePhotoUpload" accept="image/*" style="display: none;">
                   <div id="photoPreview" style="margin-top: 10px; display: none;">
                       <img id="photoPreviewImg" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" alt="Photo preview">
                       <div style="font-size: 12px; color: #27ae60; margin-top: 5px;" id="photoStatus">✅ Photo ready to save</div>
                   </div>
               </div>
               <div class="form-group">
                   <label for="description">Description *</label>
                   <textarea id="description" placeholder="Brief description of their work and impact..." required></textarea>
               </div>
               <div class="form-group">
                   <label for="biography">Extended Biography</label>
                   <textarea id="biography" placeholder="Detailed biography with background, career journey, and achievements..." style="height: 150px;"></textarea>
               </div>
               <div class="form-group">
                   <label for="followers">Followers/Audience Size</label>
                   <input type="text" id="followers" placeholder="e.g., 10K">
               </div>
               <div class="form-group">
                   <label for="age">Age</label>
                   <input type="text" id="age" placeholder="e.g., 35">
               </div>
               <div class="form-group">
                   <label for="netWorth">Net Worth</label>
                   <input type="text" id="netWorth" placeholder="e.g., $5M">
               </div>
               <div class="form-group">
                   <label for="founded">Year Founded/Started</label>
                   <input type="text" id="founded" placeholder="e.g., 2020">
               </div>
               <div class="form-group">
                   <label for="website">Website</label>
                   <input type="url" id="website" placeholder="https://example.com">
               </div>
               <div class="form-group">
                   <label for="twitter">Twitter/X</label>
                   <input type="text" id="twitter" placeholder="@username">
               </div>
               <div class="form-group">
                   <label for="linkedin">LinkedIn</label>
                   <input type="url" id="linkedin" placeholder="https://linkedin.com/in/username">
               </div>
               <div class="form-group">
                   <label for="other">Other Link</label>
                   <input type="url" id="other" placeholder="https://example.com">
               </div>
               <button type="submit" class="btn-primary" id="submitBtn">Add Profile</button>
           </form>
       </div>
   </div>

   <script>
    // Cloudinary Configuration for drpxskcqr
const CLOUDINARY_CONFIG = {
    cloudName: 'drpxskcqr',
    uploadPreset: 'scure_profiles', // Your unsigned preset
    uploadUrl: 'https://api.cloudinary.com/v1_1/drpxskcqr/image/upload'
};

// Upload status tracking
let uploadingImages = new Set();

// Image validation function
function validateImageFile(file) {
    if (!file.type.startsWith('image/')) {
        throw new Error('Please select an image file.');
    }
    
    const maxSize = 10 * 1024 * 1024; // 10MB
    if (file.size > maxSize) {
        throw new Error('Image must be smaller than 10MB.');
    }
    
    return true;
}

// Cloudinary upload function (production version)
async function uploadToCloudinary(file, progressCallback = null) {
    return new Promise((resolve, reject) => {
        const formData = new FormData();
        formData.append('file', file);
        formData.append('upload_preset', CLOUDINARY_CONFIG.uploadPreset);
        formData.append('folder', 'scure-profiles');
        
        const xhr = new XMLHttpRequest();
        
        if (progressCallback) {
            xhr.upload.addEventListener('progress', (e) => {
                if (e.lengthComputable) {
                    const percentComplete = (e.loaded / e.total) * 100;
                    progressCallback(percentComplete);
                }
            });
        }
        
        xhr.addEventListener('load', () => {
            if (xhr.status === 200) {
                try {
                    const response = JSON.parse(xhr.responseText);
                    console.log('✅ Cloudinary upload successful:', response.public_id);
                    resolve(response.secure_url);
                } catch (error) {
                    console.error('❌ Error parsing response:', error);
                    reject(new Error('Invalid response from server'));
                }
            } else {
                console.error('❌ Upload failed with status:', xhr.status);
                // Try to parse error message
                try {
                    const errorResponse = JSON.parse(xhr.responseText);
                    reject(new Error(`Upload failed: ${errorResponse.error?.message || xhr.status}`));
                } catch (parseError) {
                    reject(new Error(`Upload failed: ${xhr.status} - ${xhr.responseText}`));
                }
            }
        });
        
        xhr.addEventListener('error', () => {
            console.error('❌ Network error during upload');
            reject(new Error('Network error during upload'));
        });
        
        xhr.open('POST', CLOUDINARY_CONFIG.uploadUrl);
        xhr.send(formData);
    });
}

let profiles = [];
let isAdmin = false;
let editingProfileId = null;
let currentProfileForModal = null;
const ADMIN_PASSWORD = "scure2024";

// Console authentication function
window.scureAdmin = function(password) {
    if (password === ADMIN_PASSWORD) {
        isAdmin = true;
        document.getElementById('adminControls').style.display = 'flex';
        loadProfiles();
        displayFeaturedProfiles();
        if (document.getElementById('searchResults').style.display === 'block') {
            const query = document.getElementById('searchTitle').textContent.replace('Search Results for "', '').replace('"', '');
            if (query && query !== 'Search Results') {
                performSearch();
            }
        }
        console.log('%cAdmin access granted! 🎉', 'color: #0073e6; font-size: 16px; font-weight: bold;');
        console.log('%cYou can now add, edit, and manage profiles.', 'color: #666; font-size: 14px;');
        console.log('%cEdit and Delete buttons are now visible on profile cards!', 'color: #f39c12; font-size: 14px;');
        return "Admin access granted!";
    } else {
        console.log('%cIncorrect password! ❌', 'color: #e74c3c; font-size: 16px; font-weight: bold;');
        return "Access denied.";
    }
};

// Add console helper message
console.log('%c🔐 Scure Admin Access', 'color: #0073e6; font-size: 18px; font-weight: bold;');
console.log('%cTo access admin features, type: scureAdmin("your_password")', 'color: #666; font-size: 14px;');

// Sample featured profiles with extended data
const featuredProfiles = [
    {
        id: 1,
        name: "Alex Hormozi",
        title: "CEO & Co-Founder, Acquisition.com",
        industry: "Business Consulting",
        description: "First-generation Iranian-American entrepreneur who scaled 4 companies to $120M+ in cumulative sales across different industries without outside capital. Founded Acquisition.com, a portfolio of companies generating $200M+ annually. Author of bestselling books '$100M Offers' and '$100M Leads'. Known for expertise in customer acquisition and monetization strategies.",
        biography: "Alex Hormozi is a first-generation Iranian-American entrepreneur, investor, and philanthropist who has built multiple successful companies from the ground up. Born to immigrant parents, Alex graduated magna cum laude from Vanderbilt University in just three years with a BS in Human & Organizational Development, focusing on Corporate Strategy.\n\nAfter working as a management consultant for two years, Alex started his entrepreneurial journey in 2013 with his first brick-and-mortar business. Within three years, he successfully scaled his gym business to six locations before selling them to transition into the turnaround business.\n\nAlex then founded Gym Launch, where he developed and licensed his business model to over 4,000 locations in just four years. During this period, he also founded three additional companies, scaling them to generate over $100 million in cumulative revenue.\n\nIn 2020, Alex transitioned from CEO to owner/shareholder positions in these companies and founded Acquisition.com as a way to invest his wealth into other businesses. The portfolio focuses on asset-light, high cash flow, sales-focused service and digital products businesses.\n\nAlex is also a bestselling author, having written '$100M Offers' and '$100M Leads', which have become essential reading for entrepreneurs worldwide. He is known for his straightforward approach to business and his expertise in customer acquisition and monetization.",
        followers: "3M",
        age: "34",
        netWorth: "$100M+",
        founded: "2013",
        website: "https://www.acquisition.com",
        twitter: "@hormozi",
        linkedin: "https://www.linkedin.com/in/alexhormozi/",
        other: "",
        photo: "",
        achievements: [
            {
                title: "Scaled 4 Companies to $120M+",
                description: "Successfully built and scaled four companies across different industries to over $120 million in cumulative sales without taking outside capital."
            },
            {
                title: "Bestselling Author",
                description: "Wrote '$100M Offers' and '$100M Leads', both bestsellers on Amazon in multiple business categories."
            },
            {
                title: "Gym Launch Success",
                description: "Licensed business model to over 4,000 gym locations in just 4 years, revolutionizing the fitness industry."
            },
            {
                title: "Acquisition.com Portfolio",
                description: "Built a portfolio of companies generating over $200M annually through strategic investments and optimization."
            }
        ],
        photos: [
            {
                url: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop",
                caption: "Alex Hormozi speaking at business conference"
            },
            {
                url: "https://images.unsplash.com/photo-1556157382-97eda2d62296?w=400&h=300&fit=crop",
                caption: "Book signing event for '$100M Offers'"
            }
        ],
        quickFacts: {
            "Born": "United States (Iranian-American)",
            "Education": "Vanderbilt University (BS, Human & Organizational Development)",
            "First Business": "Gym franchise (2013)",
            "Notable Work": "Acquisition.com, Gym Launch",
            "Books": "$100M Offers, $100M Leads",
            "Investment Focus": "Asset-light, high cash flow businesses"
        },
        featured: true,
        createdAt: new Date().toISOString()
    },
    {
        id: 2,
        name: "Dan Martell",
        title: "SaaS Business Coach & Serial Entrepreneur", 
        industry: "SaaS & Technology",
        description: "Canadian-born serial entrepreneur with three successful exits including Spheric Technologies ($8M+), Flowtown (acquired by Demandforce), and Clarity.fm ($1.6M raised). Founded SaaS Academy in 2015, now the world's largest coaching program for B2B SaaS founders with 3,000+ alumni. Angel investor in 50+ startups including billion-dollar companies like Intercom, Udemy, Hootsuite, and Unbounce.",
        biography: "Dan Martell was born in Moncton, New Brunswick, a small 80,000-person town on the east coast of Canada. Despite a rough childhood that included time in group homes, Dan transformed his life through entrepreneurship and technology.\n\nAt 17, Dan taught himself programming using a Java book he found in a rehabilitation facility. This sparked his passion for technology and led to his first business venture - a vacation rental website for his father's cottage that generated $15,000 in its first year.\n\nDan's entrepreneurial journey includes founding three successful companies: Spheric Technologies (sold for $8M+ in 2008), Flowtown (acquired by Demandforce in 2012), and Clarity.fm (raised $1.6M in 21 days in 2012).\n\nIn 2015, Dan founded SaaS Academy, which has become the world's largest coaching program for B2B SaaS founders, helping over 3,000 entrepreneurs scale their businesses. He's also an active angel investor, having invested in over 50 startups including unicorn companies like Intercom, Udemy, Hootsuite, and Unbounce.\n\nDan runs the largest YouTube channel for SaaS entrepreneurs with over 55,000 subscribers, publishing weekly content since 2016 without missing a single Monday. He's also the author of 'Buy Back Your Time' and is known for his systematic approach to scaling SaaS businesses.\n\nDespite his business success, Dan maintains an active lifestyle as an Ironman triathlete and is a devoted family man, living in Canada with his wife and two children.",
        followers: "55K",
        age: "44",
        netWorth: "$50M+",
        founded: "2003",
        website: "https://www.danmartell.com",
        twitter: "@danmartell",
        linkedin: "https://ca.linkedin.com/in/dmartell",
        other: "https://www.saasacademy.com",
        photo: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
        achievements: [
            {
                title: "Three Successful Exits",
                description: "Successfully founded and exited Spheric Technologies ($8M+), Flowtown (acquired by Demandforce), and Clarity.fm."
            },
            {
                title: "SaaS Academy Success",
                description: "Built the world's largest coaching program for B2B SaaS founders with over 3,000 alumni and consistent 200%+ MRR growth for clients."
            },
            {
                title: "Top Angel Investor",
                description: "Named Canada's top angel investor in 2012, with investments in 50+ startups including multiple unicorns."
            },
            {
                title: "YouTube Authority",
                description: "Runs the largest YouTube channel for SaaS entrepreneurs with 55K+ subscribers, publishing consistently for 4+ years."
            }
        ],
        photos: [
            {
                url: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=300&fit=crop",
                caption: "Dan Martell at SaaS Academy event"
            },
            {
                url: "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&h=300&fit=crop",
                caption: "Speaking at tech conference"
            },
            {
                url: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop",
                caption: "Ironman training session"
            }
        ],
        quickFacts: {
            "Born": "Moncton, New Brunswick, Canada",
            "First Business": "Vacation rental website (age 17)",
            "Education": "Self-taught programmer",
            "Companies Founded": "Spheric Technologies, Flowtown, Clarity.fm, SaaS Academy",
            "Investment Portfolio": "50+ startups including Intercom, Udemy, Hootsuite",
            "YouTube": "55K+ subscribers, 200+ videos",
            "Personal": "Married, 2 children, Ironman athlete"
        },
        featured: true,
        createdAt: new Date().toISOString()
    }
];

// Global image error handler
window.handleImageError = function(imgElement, fallbackText) {
    if (imgElement && imgElement.parentElement) {
        imgElement.parentElement.innerHTML = fallbackText;
        imgElement.parentElement.className = 'featured-avatar';
    }
};

// FIXED: Photo upload handlers
async function handleProfilePhotoUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    try {
        validateImageFile(file);
        
        const uploadBtn = event.target.closest('.form-group').querySelector('button');
        const originalBtnText = uploadBtn.textContent;
        
        uploadBtn.textContent = '⏳ Uploading to Cloudinary...';
        uploadBtn.disabled = true;
        uploadBtn.style.background = '#95a5a6';
        
        console.log('🚀 Starting Cloudinary upload for drpxskcqr...');
        
        const imageUrl = await uploadToCloudinary(file, (progress) => {
            uploadBtn.textContent = `⏳ Uploading... ${Math.round(progress)}%`;
        });
        
        document.getElementById('photo').value = imageUrl;
        updatePhotoPreview();
        
        console.log('✅ SUCCESS! Image uploaded to Cloudinary:', imageUrl);
        uploadBtn.textContent = '✅ Upload Complete!';
        
        setTimeout(() => {
            uploadBtn.textContent = '📁 Upload';
            uploadBtn.style.background = '#3498db';
        }, 2000);
        
    } catch (error) {
        console.error('❌ Cloudinary upload failed:', error);
        alert(`Upload failed: ${error.message}`);
        
        const uploadBtn = event.target.closest('.form-group').querySelector('button');
        uploadBtn.textContent = '❌ Upload Failed';
        
        setTimeout(() => {
            uploadBtn.textContent = '📁 Upload';
            uploadBtn.style.background = '#3498db';
        }, 3000);
    } finally {
        const uploadBtn = event.target.closest('.form-group').querySelector('button');
        uploadBtn.disabled = false;
        event.target.value = '';
    }
}

async function handleAdvProfilePhotoUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    try {
        validateImageFile(file);
        
        const uploadBtn = event.target.closest('.form-group').querySelector('button');
        const originalBtnText = uploadBtn.textContent;
        
        uploadBtn.textContent = '⏳ Uploading to Cloudinary...';
        uploadBtn.disabled = true;
        uploadBtn.style.background = '#95a5a6';
        
        console.log('🚀 Starting advanced form Cloudinary upload...');
        
        const imageUrl = await uploadToCloudinary(file, (progress) => {
            uploadBtn.textContent = `⏳ Uploading... ${Math.round(progress)}%`;
        });
        
        document.getElementById('advPhoto').value = imageUrl;
        updateAdvPhotoPreview();
        
        console.log('✅ SUCCESS! Advanced form image uploaded:', imageUrl);
        uploadBtn.textContent = '✅ Upload Complete!';
        
        setTimeout(() => {
            uploadBtn.textContent = '📁 Upload';
            uploadBtn.style.background = '#3498db';
        }, 2000);
        
    } catch (error) {
        console.error('❌ Advanced form upload failed:', error);
        alert(`Upload failed: ${error.message}`);
        
        const uploadBtn = event.target.closest('.form-group').querySelector('button');
        uploadBtn.textContent = '❌ Upload Failed';
        
        setTimeout(() => {
            uploadBtn.textContent = '📁 Upload';
            uploadBtn.style.background = '#3498db';
        }, 3000);
    } finally {
        const uploadBtn = event.target.closest('.form-group').querySelector('button');
        uploadBtn.disabled = false;
        event.target.value = '';
    }
}

async function handlePhotoUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    try {
        validateImageFile(file);
        
        console.log('📁 Processing photo upload for photos section...');
        
        const imageUrl = await uploadToCloudinary(file);
        
        const container = document.getElementById('photosContainer');
        const index = container.children.length;
        
        if (container.querySelector('p')) {
            container.innerHTML = '';
        }
        
        container.innerHTML += `
            <div class="photo-item-edit">
                <button type="button" class="remove-btn" onclick="removePhoto(${index})">×</button>
                <div class="form-group">
                    <label>Photo (Uploaded to Cloudinary)</label>
                    <input type="hidden" class="photo-url" value="${imageUrl}">
                    <div style="background: #f0f8ff; padding: 10px; border-radius: 6px; font-size: 12px; color: #0073e6;">
                        🌐 Hosted on Cloudinary: ${file.name} 
                        <a href="${imageUrl}" target="_blank" style="color: #0073e6; text-decoration: underline;">View Image</a>
                    </div>
                </div>
                <div class="form-group">
                    <label>Photo Caption</label>
                    <input type="text" class="photo-caption" placeholder="Photo caption..." value="${file.name.replace(/\.[^/.]+$/, '')}">
                </div>
                <div style="margin-top: 10px;">
                    <img src="${imageUrl}" style="max-width: 200px; max-height: 150px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" alt="Uploaded preview">
                </div>
            </div>
        `;
        
        console.log('✅ Photos section upload successful!');
        
    } catch (error) {
        console.error('❌ Photos section upload error:', error);
        alert(`Upload failed: ${error.message}`);
    }
    
    event.target.value = '';
}

function triggerPhotoUpload() {
    document.getElementById('profilePhotoUpload').click();
}

function triggerAdvPhotoUpload() {
    document.getElementById('advProfilePhotoUpload').click();
}

function updatePhotoPreview() {
    const photoUrl = document.getElementById('photo').value;
    const preview = document.getElementById('photoPreview');
    const previewImg = document.getElementById('photoPreviewImg');
    const status = document.getElementById('photoStatus');
    
    if (photoUrl && (photoUrl.startsWith('http') || photoUrl.startsWith('data:'))) {
        previewImg.src = photoUrl;
        preview.style.display = 'block';
        status.textContent = photoUrl.startsWith('data:') ? '✅ Uploaded photo ready' : '✅ Photo URL ready';
    } else {
        preview.style.display = 'none';
    }
}

function updateAdvPhotoPreview() {
    const photoUrl = document.getElementById('advPhoto').value;
    const preview = document.getElementById('advPhotoPreview');
    const previewImg = document.getElementById('advPhotoPreviewImg');
    const status = document.getElementById('advPhotoStatus');
    
    if (photoUrl && (photoUrl.startsWith('http') || photoUrl.startsWith('data:'))) {
        previewImg.src = photoUrl;
        preview.style.display = 'block';
        status.textContent = photoUrl.startsWith('data:') ? '✅ Uploaded photo ready' : '✅ Photo URL ready';
    } else {
        preview.style.display = 'none';
    }
}

function setupPhotoUploads() {
    const profilePhotoUpload = document.getElementById('profilePhotoUpload');
    if (profilePhotoUpload) {
        profilePhotoUpload.addEventListener('change', handleProfilePhotoUpload);
    }
    
    const advProfilePhotoUpload = document.getElementById('advProfilePhotoUpload');
    if (advProfilePhotoUpload) {
        advProfilePhotoUpload.addEventListener('change', handleAdvProfilePhotoUpload);
    }
}

// Initialize
window.onload = function() {
    loadProfiles();
    displayFeaturedProfiles();
    
    document.getElementById('mainSearch').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            performSearch();
        }
    });
    
    setupPhotoUploads();
};

function loadProfiles() {
    try {
        const savedProfiles = localStorage.getItem('scure_profiles');
        if (savedProfiles) {
            profiles = JSON.parse(savedProfiles);
            console.log('%c💾 Loaded saved profiles from storage', 'color: #3498db; font-size: 14px;');
        } else {
            profiles = [...featuredProfiles];
            saveProfiles();
        }
    } catch (error) {
        console.log('%c⚠️ Error loading profiles, using defaults', 'color: #f39c12; font-size: 14px;');
        profiles = [...featuredProfiles];
        saveProfiles();
    }
}

function saveProfiles() {
    try {
        localStorage.setItem('scure_profiles', JSON.stringify(profiles));
        console.log('%c💾 Profiles saved to storage', 'color: #27ae60; font-size: 14px;');
    } catch (error) {
        console.log('%c⚠️ Error saving profiles to storage', 'color: #e74c3c; font-size: 14px;');
        console.log('This might be due to storage quota limits or large images.');
    }
}

function displayFeaturedProfiles() {
    const grid = document.getElementById('featuredGrid');
    if (!grid) {
        console.error('Featured grid element not found');
        return;
    }
    
    const featured = profiles.filter(profile => profile.featured);
    
    grid.innerHTML = featured.map(profile => {
        const avatarContent = profile.photo 
            ? `<img src="${profile.photo}" alt="${profile.name}" onerror="handleImageError(this, '${profile.name.charAt(0).toUpperCase()}')">`
            : profile.name.charAt(0).toUpperCase();
        
        return `
            <div class="featured-card" onclick="viewProfile(${profile.id})">
                ${isAdmin ? `
                <div style="position: absolute; top: 10px; right: 10px; z-index: 10;">
                    <button onclick="event.stopPropagation(); editProfile(${profile.id})" style="background: #f39c12; color: white; border: none; padding: 8px 12px; border-radius: 20px; font-size: 12px; cursor: pointer; margin-right: 5px; transition: all 0.3s ease;" onmouseover="this.style.background='#e67e22'" onmouseout="this.style.background='#f39c12'">Edit</button>
                    <button onclick="event.stopPropagation(); deleteProfile(${profile.id})" style="background: #e74c3c; color: white; border: none; padding: 8px 12px; border-radius: 20px; font-size: 12px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='#c0392b'" onmouseout="this.style.background='#e74c3c'">Delete</button>
                </div>
                ` : ''}
                <div class="featured-header">
                    <div class="featured-avatar ${profile.photo ? 'has-image' : ''}">
                        ${avatarContent}
                    </div>
                    <div class="featured-info">
                        <h3>${profile.name}</h3>
                        <div class="title">${profile.title}</div>
                        <div class="industry">${profile.industry}</div>
                    </div>
                </div>
                <div class="featured-description">
                    ${profile.description}
                </div>
                <div class="featured-stats">
                    <div class="stat">
                        <div class="stat-value">${profile.followers || 'N/A'}</div>
                        <div class="stat-label">Followers</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">${profile.age || 'N/A'}</div>
                        <div class="stat-label">Age</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">${profile.netWorth || 'N/A'}</div>
                        <div class="stat-label">Est. Net Worth</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">${profile.founded || 'N/A'}</div>
                        <div class="stat-label">Founded</div>
                    </div>
                </div>
                <button class="view-profile-btn">View Full Profile</button>
            </div>
        `;
    }).join('');
}

function performSearch() {
    const query = document.getElementById('mainSearch').value.trim();
    if (!query) return;

    const results = profiles.filter(profile => 
        profile.name.toLowerCase().includes(query.toLowerCase()) ||
        profile.title.toLowerCase().includes(query.toLowerCase()) ||
        profile.industry.toLowerCase().includes(query.toLowerCase()) ||
        profile.description.toLowerCase().includes(query.toLowerCase())
    );

    showSearchResults(results, query);
}

function showSearchResults(results, query) {
    document.getElementById('homepage').style.display = 'none';
    document.getElementById('searchResults').style.display = 'block';
    
    const searchTitle = document.getElementById('searchTitle');
    if (searchTitle) {
        searchTitle.textContent = `Search Results for "${query}"`;
    }

    const grid = document.getElementById('resultsGrid');
    const noResults = document.getElementById('noResults');
    
    if (!grid || !noResults) {
        console.error('Search results elements not found');
        return;
    }

    if (results.length === 0) {
        grid.innerHTML = '';
        noResults.style.display = 'block';
        return;
    }

    noResults.style.display = 'none';
    grid.innerHTML = results.map(profile => {
        const avatarContent = profile.photo 
            ? `<img src="${profile.photo}" alt="${profile.name}" onerror="handleImageError(this, '${profile.name.charAt(0).toUpperCase()}')">`
            : profile.name.charAt(0).toUpperCase();
        
        return `
            <div class="result-card" onclick="viewProfile(${profile.id})">
                ${isAdmin ? `
                <div style="position: absolute; top: 10px; right: 10px; z-index: 10;">
                    <button onclick="event.stopPropagation(); editProfile(${profile.id})" style="background: #f39c12; color: white; border: none; padding: 8px 12px; border-radius: 20px; font-size: 12px; cursor: pointer; margin-right: 5px; transition: all 0.3s ease;" onmouseover="this.style.background='#e67e22'" onmouseout="this.style.background='#f39c12'">Edit</button>
                    <button onclick="event.stopPropagation(); deleteProfile(${profile.id})" style="background: #e74c3c; color: white; border: none; padding: 8px 12px; border-radius: 20px; font-size: 12px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='#c0392b'" onmouseout="this.style.background='#e74c3c'">Delete</button>
                </div>
                ` : ''}
                <div class="featured-header">
                    <div class="featured-avatar ${profile.photo ? 'has-image' : ''}">
                        ${avatarContent}
                    </div>
                    <div class="featured-info">
                        <h3>${profile.name}</h3>
                        <div class="title">${profile.title}</div>
                        <div class="industry">${profile.industry}</div>
                    </div>
                </div>
                <div class="featured-description">
                    ${profile.description.substring(0, 200)}${profile.description.length > 200 ? '...' : ''}
                </div>
                <button class="view-profile-btn">View Full Profile</button>
            </div>
        `;
    }).join('');
}

function showHomepage() {
    document.getElementById('searchResults').style.display = 'none';
    document.getElementById('homepage').style.display = 'block';
    document.getElementById('mainSearch').value = '';
}

function viewProfile(id) {
    const profile = profiles.find(p => p.id === id);
    if (!profile) return;

    currentProfileForModal = profile;

    const avatar = document.getElementById('modalAvatar');
    if (!avatar) {
        console.error('Modal avatar element not found');
        return;
    }
    
    if (profile.photo) {
        avatar.innerHTML = '';
        avatar.style.backgroundImage = '';
        avatar.className = 'profile-main-avatar has-image';
        
        const img = document.createElement('img');
        img.src = profile.photo;
        img.alt = profile.name;
        img.onerror = function() {
            if (avatar) {
                avatar.innerHTML = profile.name.charAt(0).toUpperCase();
                avatar.className = 'profile-main-avatar';
                avatar.style.backgroundColor = 'rgba(255,255,255,0.2)';
            }
        };
        avatar.appendChild(img);
    } else {
        avatar.innerHTML = profile.name.charAt(0).toUpperCase();
        avatar.className = 'profile-main-avatar';
        avatar.style.backgroundImage = '';
        avatar.style.backgroundColor = 'rgba(255,255,255,0.2)';
    }

    const modalName = document.getElementById('modalName');
    const modalTitle = document.getElementById('modalTitle');
    const modalIndustry = document.getElementById('modalIndustry');
    
    if (modalName) modalName.textContent = profile.name;
    if (modalTitle) modalTitle.textContent = profile.title;
    if (modalIndustry) modalIndustry.textContent = profile.industry;

    const quickStats = document.getElementById('modalQuickStats');
    if (quickStats) {
        quickStats.innerHTML = `
            <div class="quick-stat">
                <div class="quick-stat-value">${profile.followers || 'N/A'}</div>
                <div class="quick-stat-label">Followers</div>
            </div>
            <div class="quick-stat">
                <div class="quick-stat-value">${profile.age || 'N/A'}</div>
                <div class="quick-stat-label">Age</div>
            </div>
            <div class="quick-stat">
                <div class="quick-stat-value">${profile.netWorth || 'N/A'}</div>
                <div class="quick-stat-label">Net Worth</div>
            </div>
            <div class="quick-stat">
                <div class="quick-stat-value">${profile.founded || 'N/A'}</div>
                <div class="quick-stat-label">Founded</div>
            </div>
        `;
    }

    const modalBiography = document.getElementById('modalBiography');
    if (modalBiography) {
        modalBiography.innerHTML = (profile.biography || profile.description || 'No biography available.').replace(/\n/g, '<br><br>');
    }

    const quickFacts = document.getElementById('modalQuickFacts');
    if (profile.quickFacts) {
        quickFacts.innerHTML = Object.entries(profile.quickFacts).map(([key, value]) => `
            <div class="fact-item">
                <span class="fact-label">${key}</span>
                <span class="fact-value">${value}</span>
            </div>
        `).join('');
    } else {
        quickFacts.innerHTML = `
            <div class="fact-item">
                <span class="fact-label">Industry</span>
                <span class="fact-value">${profile.industry}</span>
            </div>
            <div class="fact-item">
                <span class="fact-label">Founded</span>
                <span class="fact-value">${profile.founded || 'N/A'}</span>
            </div>
        `;
    }

    if (profile.photo) {
        const preview = document.getElementById('advPhotoPreview');
        const previewImg = document.getElementById('advPhotoPreviewImg');
        if (preview && previewImg) {
            previewImg.src = profile.photo;
            preview.style.display = 'block';
        }
    }
    
    const achievements = document.getElementById('modalAchievements');
    if (profile.achievements && profile.achievements.length > 0) {
        achievements.innerHTML = profile.achievements.map(achievement => `
            <div class="achievement-card">
                <div class="achievement-title">${achievement.title}</div>
                <div class="achievement-desc">${achievement.description}</div>
            </div>
        `).join('');
    } else {
        achievements.innerHTML = `
            <div class="achievement-card">
                <div class="achievement-title">Business Success</div>
                <div class="achievement-desc">${profile.description}</div>
            </div>
        `;
    }

    const links = document.getElementById('modalLinks');
    if (links) {
        const linkItems = [];
        
        if (profile.website) {
            linkItems.push({
                icon: '🌐',
                title: 'Website',
                url: profile.website
            });
        }
        
        if (profile.twitter) {
            linkItems.push({
                icon: '🐦',
                title: 'Twitter/X',
                url: `https://twitter.com/${profile.twitter.replace('@', '')}`
            });
        }
        
        if (profile.linkedin) {
            linkItems.push({
                icon: '💼',
                title: 'LinkedIn',
                url: profile.linkedin
            });
        }
        
        if (profile.other) {
            linkItems.push({
                icon: '🔗',
                title: 'Other',
                url: profile.other
            });
        }

        if (linkItems.length > 0) {
            links.innerHTML = linkItems.map(link => `
                <a href="${link.url}" target="_blank" class="profile-link-card">
                    <div class="link-icon">${link.icon}</div>
                    <div class="link-title">${link.title}</div>
                    <div class="link-url">${link.url}</div>
                </a>
            `).join('');
        } else {
            links.innerHTML = '<p style="text-align: center; color: #666;">No external links available.</p>';
        }
    }

    // REPLACE the photos section in your viewProfile function with this:

const photos = document.getElementById('modalPhotos');
if (photos) {
    if (profile.photos && profile.photos.length > 0) {
        photos.innerHTML = profile.photos.map(photo => `
            <div class="photo-item">
                <img src="${photo.url}" alt="${photo.caption}" loading="lazy">
                <div class="photo-caption">${photo.caption}</div>
            </div>
        `).join('');
    } else if (profile.photo) {
        photos.innerHTML = `
            <div class="photo-item">
                <img src="${profile.photo}" alt="${profile.name}" loading="lazy">
                <div class="photo-caption">Profile photo of ${profile.name}</div>
            </div>
        `;
    } else {
        photos.innerHTML = '<p>No photos available.</p>';
    }
}

    showSection('overview');
    
    document.getElementById('profileModal').style.display = 'block';
    document.body.style.overflow = 'hidden';
    
    const headerSection = document.querySelector('.profile-header-section');
    const existingAdminButtons = headerSection.querySelector('.admin-buttons');
    if (existingAdminButtons) {
        existingAdminButtons.remove();
    }
    
    if (isAdmin) {
        const adminButtonsDiv = document.createElement('div');
        adminButtonsDiv.className = 'admin-buttons';
        adminButtonsDiv.style.cssText = 'position: absolute; top: 10px; left: 20px; z-index: 10;';
        adminButtonsDiv.innerHTML = `
            <button onclick="editProfileFromModal()" style="background: #f39c12; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 14px; cursor: pointer; margin-right: 10px; transition: all 0.3s ease; font-weight: 500;" onmouseover="this.style.background='#e67e22'" onmouseout="this.style.background='#f39c12'">✏️ Edit Profile</button>
            <button onclick="deleteProfileFromModal()" style="background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 14px; cursor: pointer; transition: all 0.3s ease; font-weight: 500;" onmouseover="this.style.background='#c0392b'" onmouseout="this.style.background='#e74c3c'">🗑️ Delete Profile</button>
        `;
        headerSection.appendChild(adminButtonsDiv);
    }
}

function closeProfileModal() {
    document.getElementById('profileModal').style.display = 'none';
    document.body.style.overflow = 'auto';
    currentProfileForModal = null;
    
    const adminButtons = document.querySelector('.admin-buttons');
    if (adminButtons) {
        adminButtons.remove();
    }
}

function showSection(sectionName) {
    document.querySelectorAll('.profile-section').forEach(section => {
        section.classList.remove('active');
    });
    
    document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
    });
    
    document.getElementById(sectionName + '-section').classList.add('active');
    
    event.target.classList.add('active');
}

// Admin functions
function openAddModal() {
    if (!isAdmin) {
        console.log('%cAccess denied! Please authenticate first using scureAdmin("password")', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    editingProfileId = null;
    document.getElementById('modalFormTitle').textContent = 'Add New Profile';
    document.getElementById('submitBtn').textContent = 'Add Profile';
    document.getElementById('addModal').style.display = 'block';
}

function editProfile(profileId) {
    if (!isAdmin) {
        console.log('%cAccess denied! Please authenticate first.', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    const profile = profiles.find(p => p.id === profileId);
    if (!profile) {
        console.log('%cProfile not found!', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    editingProfileId = profileId;
    document.getElementById('modalFormTitle').textContent = 'Edit Profile';
    document.getElementById('submitBtn').textContent = 'Update Profile';
    
    document.getElementById('name').value = profile.name || '';
    document.getElementById('title').value = profile.title || '';
    document.getElementById('industry').value = profile.industry || '';
    document.getElementById('photo').value = profile.photo || '';
    document.getElementById('description').value = profile.description || '';
    document.getElementById('biography').value = profile.biography || '';
    document.getElementById('followers').value = profile.followers || '';
    document.getElementById('age').value = profile.age || '';
    document.getElementById('netWorth').value = profile.netWorth || '';
    document.getElementById('founded').value = profile.founded || '';
    document.getElementById('website').value = profile.website || '';
    document.getElementById('twitter').value = profile.twitter || '';
    document.getElementById('linkedin').value = profile.linkedin || '';
    document.getElementById('other').value = profile.other || '';
    
    if (profile.photo) {
        const preview = document.getElementById('photoPreview');
        const previewImg = document.getElementById('photoPreviewImg');
        if (preview && previewImg) {
            previewImg.src = profile.photo;
            preview.style.display = 'block';
        }
    }
    
    document.getElementById('addModal').style.display = 'block';
    console.log('%cEditing profile: ' + profile.name, 'color: #f39c12; font-size: 14px;');
}

function deleteProfile(profileId) {
    if (!isAdmin) {
        console.log('%cAccess denied! Please authenticate first.', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    const profile = profiles.find(p => p.id === profileId);
    if (!profile) {
        console.log('%cProfile not found!', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    if (confirm(`Are you sure you want to delete the profile for ${profile.name}? This action cannot be undone.`)) {
        profiles = profiles.filter(p => p.id !== profileId);
        displayFeaturedProfiles();
        saveProfiles();
        console.log('%cProfile deleted successfully! 🗑️', 'color: #27ae60; font-size: 14px;');
    }
}

function editProfileFromModal() {
    if (!isAdmin || !currentProfileForModal) {
        console.log('%cAccess denied or no profile loaded!', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    openAdvancedEditModal(currentProfileForModal);
}

function deleteProfileFromModal() {
    if (!isAdmin || !currentProfileForModal) {
        console.log('%cAccess denied or no profile loaded!', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    if (confirm(`Are you sure you want to delete the profile for ${currentProfileForModal.name}? This action cannot be undone.`)) {
        profiles = profiles.filter(p => p.id !== currentProfileForModal.id);
        closeProfileModal();
        displayFeaturedProfiles();
        saveProfiles();
        console.log('%cProfile deleted successfully! 🗑️', 'color: #27ae60; font-size: 14px;');
    }
}

function openAdvancedEditModal(profile) {
    editingProfileId = profile.id;
    
    document.getElementById('advName').value = profile.name || '';
    document.getElementById('advTitle').value = profile.title || '';
    document.getElementById('advIndustry').value = profile.industry || '';
    document.getElementById('advPhoto').value = profile.photo || '';
    document.getElementById('advDescription').value = profile.description || '';
    document.getElementById('advBiography').value = profile.biography || '';
    document.getElementById('advFollowers').value = profile.followers || '';
    document.getElementById('advAge').value = profile.age || '';
    document.getElementById('advNetWorth').value = profile.netWorth || '';
    document.getElementById('advFounded').value = profile.founded || '';
    document.getElementById('advWebsite').value = profile.website || '';
    document.getElementById('advTwitter').value = profile.twitter || '';
    document.getElementById('advLinkedin').value = profile.linkedin || '';
    document.getElementById('advOther').value = profile.other || '';
    
    populateAchievements(profile.achievements || []);
    populateQuickFacts(profile.quickFacts || {});
    populatePhotos(profile.photos || []);
    
    showEditSection('basic');
    document.getElementById('advancedEditModal').style.display = 'block';
    console.log('%cAdvanced editor opened for: ' + profile.name, 'color: #f39c12; font-size: 14px;');
}

function closeAdvancedEditModal() {
    document.getElementById('advancedEditModal').style.display = 'none';
    document.getElementById('advancedProfileForm').reset();
    editingProfileId = null;
}

function showEditSection(sectionName) {
    document.querySelectorAll('.edit-section').forEach(section => {
        section.classList.remove('active');
    });
    
    document.querySelectorAll('.edit-nav-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    document.getElementById(sectionName + 'EditSection').classList.add('active');
    document.getElementById(sectionName + 'NavBtn').classList.add('active');
}

function populateAchievements(achievements) {
    const container = document.getElementById('achievementsContainer');
    container.innerHTML = '';
    
    achievements.forEach((achievement, index) => {
        container.innerHTML += `
            <div class="achievement-item">
                <button type="button" class="remove-btn" onclick="removeAchievement(${index})">×</button>
                <div class="form-group">
                    <label>Achievement Title</label>
                    <input type="text" class="achievement-title" value="${achievement.title || ''}" placeholder="Achievement title...">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea class="achievement-desc" placeholder="Achievement description..." style="height: 80px;">${achievement.description || ''}</textarea>
                </div>
            </div>
        `;
    });
    
    if (achievements.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No achievements added yet. Click "Add Achievement" to get started.</p>';
    }
}

function addAchievement() {
    const container = document.getElementById('achievementsContainer');
    const index = container.children.length;
    
    if (container.querySelector('p')) {
        container.innerHTML = '';
    }
    
    container.innerHTML += `
        <div class="achievement-item">
            <button type="button" class="remove-btn" onclick="removeAchievement(${index})">×</button>
            <div class="form-group">
                <label>Achievement Title</label>
                <input type="text" class="achievement-title" placeholder="Achievement title...">
            </div>
            <div class="form-group">
                <label>Description</label>
                <textarea class="achievement-desc" placeholder="Achievement description..." style="height: 80px;"></textarea>
            </div>
        </div>
    `;
}

function removeAchievement(index) {
    const container = document.getElementById('achievementsContainer');
    const items = container.querySelectorAll('.achievement-item');
    if (items[index]) {
        items[index].remove();
    }
    
    if (container.children.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No achievements added yet. Click "Add Achievement" to get started.</p>';
    }
}

function populateQuickFacts(quickFacts) {
    const container = document.getElementById('quickFactsContainer');
    container.innerHTML = '';
    
    Object.entries(quickFacts).forEach(([key, value], index) => {
        container.innerHTML += `
            <div class="quickfact-item">
                <button type="button" class="remove-btn" onclick="removeQuickFact(${index})">×</button>
                <div class="quickfact-grid">
                    <div class="form-group">
                        <label>Fact Label</label>
                        <input type="text" class="quickfact-key" value="${key}" placeholder="e.g., Born, Education...">
                    </div>
                    <div class="form-group">
                        <label>Fact Value</label>
                        <input type="text" class="quickfact-value" value="${value}" placeholder="e.g., New York, Harvard...">
                    </div>
                </div>
            </div>
        `;
    });
    
    if (Object.keys(quickFacts).length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No quick facts added yet. Click "Add Fact" to get started.</p>';
    }
}

function addQuickFact() {
    const container = document.getElementById('quickFactsContainer');
    const index = container.children.length;
    
    if (container.querySelector('p')) {
        container.innerHTML = '';
    }
    
    container.innerHTML += `
        <div class="quickfact-item">
            <button type="button" class="remove-btn" onclick="removeQuickFact(${index})">×</button>
            <div class="quickfact-grid">
                <div class="form-group">
                    <label>Fact Label</label>
                    <input type="text" class="quickfact-key" placeholder="e.g., Born, Education...">
                </div>
                <div class="form-group">
                    <label>Fact Value</label>
                    <input type="text" class="quickfact-value" placeholder="e.g., New York, Harvard...">
                </div>
            </div>
        </div>
    `;
}

function removeQuickFact(index) {
    const container = document.getElementById('quickFactsContainer');
    const items = container.querySelectorAll('.quickfact-item');
    if (items[index]) {
        items[index].remove();
    }
    
    if (container.children.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No quick facts added yet. Click "Add Fact" to get started.</p>';
    }
}

function populatePhotos(photos) {
    const container = document.getElementById('photosContainer');
    container.innerHTML = '';
    
    photos.forEach((photo, index) => {
        container.innerHTML += `
            <div class="photo-item-edit">
                <button type="button" class="remove-btn" onclick="removePhoto(${index})">×</button>
                <div class="form-group">
                    <label>Photo URL</label>
                    <input type="url" class="photo-url" value="${photo.url || ''}" placeholder="https://example.com/photo.jpg">
                </div>
                <div class="form-group">
                    <label>Photo Caption</label>
                    <input type="text" class="photo-caption" value="${photo.caption || ''}" placeholder="Photo caption...">
                </div>
                ${photo.url ? `<div style="margin-top: 10px;"><img src="${photo.url}" style="max-width: 200px; max-height: 150px; object-fit: cover; border-radius: 8px;" alt="Preview"></div>` : ''}
            </div>
        `;
    });
    
    if (photos.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No photos added yet. Click "Add Photo" to get started.</p>';
    }
}

function addPhoto() {
    const container = document.getElementById('photosContainer');
    const index = container.children.length;
    
    if (container.querySelector('p')) {
        container.innerHTML = '';
    }
    
    container.innerHTML += `
        <div class="photo-item-edit">
            <button type="button" class="remove-btn" onclick="removePhoto(${index})">×</button>
            <div class="form-group">
                <label>Photo URL</label>
                <input type="url" class="photo-url" placeholder="https://example.com/photo.jpg">
            </div>
            <div class="form-group">
                <label>Photo Caption</label>
                <input type="text" class="photo-caption" placeholder="Photo caption...">
            </div>
        </div>
    `;
}

function removePhoto(index) {
    const container = document.getElementById('photosContainer');
    const items = container.querySelectorAll('.photo-item-edit');
    if (items[index]) {
        items[index].remove();
    }
    
    if (container.children.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No photos added yet. Click "Upload Photo" or "Add by URL" to get started.</p>';
    }
}

function closeAddModal() {
    document.getElementById('addModal').style.display = 'none';
    document.getElementById('profileForm').reset();
    document.getElementById('photoPreview').style.display = 'none';
    editingProfileId = null;
}

function addProfile(profileData) {
    if (!isAdmin) {
        console.log('%cAccess denied! Please authenticate first.', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    if (editingProfileId) {
        const profileIndex = profiles.findIndex(p => p.id === editingProfileId);
        if (profileIndex !== -1) {
            profiles[profileIndex] = {
                ...profiles[profileIndex],
                ...profileData,
                updatedAt: new Date().toISOString()
            };
            console.log('%cProfile updated successfully! ✅', 'color: #27ae60; font-size: 14px;');
        }
    } else {
        const profile = {
            id: Date.now(),
            ...profileData,
            featured: true,
            createdAt: new Date().toISOString()
        };
        profiles.push(profile);
        console.log('%cProfile added successfully! ✅', 'color: #27ae60; font-size: 14px;');
    }
    
    displayFeaturedProfiles();
    saveProfiles();
}

function exportProfiles() {
    if (!isAdmin) {
        console.log('%cAccess denied! Please authenticate first.', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    const dataStr = JSON.stringify(profiles, null, 2);
    const dataBlob = new Blob([dataStr], {type: 'application/json'});
    const url = URL.createObjectURL(dataBlob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'scure_profiles.json';
    link.click();
    URL.revokeObjectURL(url);
    console.log('%cProfiles exported successfully! 📁', 'color: #27ae60; font-size: 14px;');
}

function importProfiles(event) {
    if (!isAdmin) {
        console.log('%cAccess denied! Please authenticate first.', 'color: #e74c3c; font-size: 14px;');
        return;
    }
    
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        try {
            const importedProfiles = JSON.parse(e.target.result);
            if (Array.isArray(importedProfiles)) {
                profiles = [...profiles, ...importedProfiles];
                displayFeaturedProfiles();
                saveProfiles();
                console.log('%cProfiles imported successfully! 📥', 'color: #27ae60; font-size: 14px;');
            } else {
                console.log('%cInvalid file format. Please select a valid JSON file.', 'color: #e74c3c; font-size: 14px;');
            }
        } catch (error) {
            console.log('%cError importing file. Please check the file format.', 'color: #e74c3c; font-size: 14px;');
        }
    };
    reader.readAsText(file);
}

// Form submission handlers
document.addEventListener('DOMContentLoaded', function() {
    // Basic profile form submission
    const profileForm = document.getElementById('profileForm');
    if (profileForm) {
        profileForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const profileData = {
                name: document.getElementById('name').value,
                title: document.getElementById('title').value,
                industry: document.getElementById('industry').value,
                photo: document.getElementById('photo').value,
                description: document.getElementById('description').value,
                biography: document.getElementById('biography').value,
                followers: document.getElementById('followers').value,
                age: document.getElementById('age').value,
                netWorth: document.getElementById('netWorth').value,
                founded: document.getElementById('founded').value,
                website: document.getElementById('website').value,
                twitter: document.getElementById('twitter').value,
                linkedin: document.getElementById('linkedin').value,
                other: document.getElementById('other').value
            };
            
            addProfile(profileData);
            closeAddModal();
        });
    }

    // Advanced profile form submission
    const advancedProfileForm = document.getElementById('advancedProfileForm');
    if (advancedProfileForm) {
        advancedProfileForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!isAdmin || !editingProfileId) {
                console.log('%cAccess denied or no profile being edited!', 'color: #e74c3c; font-size: 14px;');
                return;
            }
            
            const achievements = [];
            document.querySelectorAll('.achievement-item').forEach(item => {
                const title = item.querySelector('.achievement-title').value.trim();
                const description = item.querySelector('.achievement-desc').value.trim();
                if (title && description) {
                    achievements.push({ title, description });
                }
            });
            
            const quickFacts = {};
            document.querySelectorAll('.quickfact-item').forEach(item => {
                const key = item.querySelector('.quickfact-key').value.trim();
                const value = item.querySelector('.quickfact-value').value.trim();
                if (key && value) {
                    quickFacts[key] = value;
                }
            });
            
            const photos = [];
            document.querySelectorAll('.photo-item-edit').forEach(item => {
                const url = item.querySelector('.photo-url').value.trim();
                const caption = item.querySelector('.photo-caption').value.trim();
                if (url) {
                    photos.push({ url, caption: caption || 'Photo' });
                }
            });
            
            const profileData = {
                name: document.getElementById('advName').value,
                title: document.getElementById('advTitle').value,
                industry: document.getElementById('advIndustry').value,
                photo: document.getElementById('advPhoto').value,
                description: document.getElementById('advDescription').value,
                biography: document.getElementById('advBiography').value,
                followers: document.getElementById('advFollowers').value,
                age: document.getElementById('advAge').value,
                netWorth: document.getElementById('advNetWorth').value,
                founded: document.getElementById('advFounded').value,
                website: document.getElementById('advWebsite').value,
                twitter: document.getElementById('advTwitter').value,
                linkedin: document.getElementById('advLinkedin').value,
                other: document.getElementById('advOther').value,
                achievements: achievements,
                quickFacts: quickFacts,
                photos: photos
            };
            
            const profileIndex = profiles.findIndex(p => p.id === editingProfileId);
            if (profileIndex !== -1) {
                profiles[profileIndex] = {
                    ...profiles[profileIndex],
                    ...profileData,
                    updatedAt: new Date().toISOString()
                };
                
                currentProfileForModal = profiles[profileIndex];
                
                displayFeaturedProfiles();
                
                if (document.getElementById('profileModal').style.display === 'block') {
                    closeProfileModal();
                    setTimeout(() => {
                        viewProfile(editingProfileId);
                    }, 100);
                }
                
                saveProfiles();
                closeAdvancedEditModal();
                console.log('%cProfile updated successfully! ✅', 'color: #27ae60; font-size: 14px;');
            }
        });
    }
});

// PHOTO GALLERY JAVASCRIPT - Add this to your existing JavaScript

// Simple photo gallery functionality (no lightbox)
function initPhotoGallery() {
    console.log('📸 Simple photo gallery initialized');
}

// Initialize when the page loads
document.addEventListener('DOMContentLoaded', function() {
    initPhotoGallery();
});
   </script>
</body>
</html>